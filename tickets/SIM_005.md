# SIM-005: The Truth Layer (Weight Trend Engine)

## üéØ OBJECTIVE
Build the data structure and UI for tracking Daily Weight and calculating the "Moving Average" (The Trend). This is the scientific "Truth Layer" that validates user habits.

## üë§ USER STORY
**As a** User,
**I want** to log my weight daily and see my "Trend Weight,"
**So that** I don't panic when the scale fluctuates due to water retention.

## ‚úÖ ACCEPTANCE CRITERIA
1.  **Data Schema (`users/{uid}/weight_logs`):**
    * Collection where ID = `YYYY-MM-DD`.
    * Fields: `weight` (number), `timestamp` (serverTime).
2.  **Logic (The "Trend"):**
    * Implement an **Exponential Moving Average (EMA)** or a simple **7-Day Rolling Average** on the frontend.
    * *The Logic:* `Trend = (PreviousTrend * 0.9) + (CurrentWeight * 0.1)`. (Smoothes out spikes).
3.  **UI Components:**
    * **The Scale Card:** A simple card on the Home Screen (replacing or below Nourishment for now).
    * **Input:** A clean, horizontal slider or large text input for weight.
    * **Visual:** Display the *Trend Line* (or just the Trend Number) prominently.
4.  **Grandma Test:**
    * If the weight goes UP overnight, the UI should be calm (referencing the Trend), not alarming (red colors).

## üõ°Ô∏è TECHNICAL GUARDRAILS
* **Hook:** `hooks/useWeight.ts` (Subscribes to the last 30 days of weight logs).
* **Math:** Keep the trend calculation robust. Handle missing days (don't let the trend crash if they skip a day).